<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Default Prediction</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Maven+Pro:wght@400..900&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Maven+Pro:wght@400..900&family=Satisfy&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: "Maven Pro", sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #ffffff91;
            background-image: url(https://images.pexels.com/photos/6843588/pexels-photo-6843588.jpeg?auto=compress&cs=tinysrgb&w=600);
            background-size: cover;
        }
        .container {
            width: 450px;
            margin: 0 auto;
            padding: 20px;
            border-radius: 20px;
            background-color: #ffffff85;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }
        .form-group {
            margin-bottom: 15px;
            width: 400px;
            
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 8px;
            margin-bottom: 5px;
            border: 1px solid #5a5a5a;
            border-radius: 7px;
            background-color: #f9f9f9c4;
            
        }
        select {
            width: 200px;
            padding: 8px;
            margin-bottom: 5px;
            border: 1px solid #242424;
            border-radius: 10px;        }
        button {
            font-family: "Maven Pro", sans-serif;

            padding: 10px 15px;
            background-color: #13b48c;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #37dfb5;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1 style="  font-family: Satisfy, cursive;text-align: center;color:#ffffffc9">Loan Default Prediction</h2>


<div class="container">
    <div class="form-group">
        <label for="age">Age:</label>
        <input type="number" id="age" name="age">
    </div>
    <div class="form-group">
        <label for="income">Income:</label>
        <input type="number" id="income" name="income">
    </div>
    <div class="form-group">
        <label for="loan_amount">Loan Amount:</label>
        <input type="number" id="loan_amount" name="loan_amount">
    </div>
    <div class="form-group">
        <label for="credit_score">Credit Score:</label>
        <input type="number" id="credit_score" name="credit_score">
    </div>
    <div class="form-group">
        <label for="months_employed">Months Employed:</label>
        <input type="number" id="months_employed" name="months_employed">
    </div>
    <div class="form-group">
        <label for="num_credit_lines">Number of Credit Lines:</label>
        <input type="number" id="num_credit_lines" name="num_credit_lines">
    </div>
    <div class="form-group">
        <label for="interest_rate">Interest Rate:</label>
        <input type="number" step="0.01" id="interest_rate" name="interest_rate">
    </div>
    <div class="form-group">
        <label for="loan_term">Loan Term:</label>
        <input type="number" id="loan_term" name="loan_term">
    </div>
    <div class="form-group">
        <label for="dti_ratio">DTI Ratio:</label>
        <input type="number" step="0.01" id="dti_ratio" name="dti_ratio">
    </div>
    <div class="form-group">
        <label for="education">Education:</label>
        <select id="education" name="education">
            <option value="none">---Select---</option>
            <option value="High School">High School</option>
            <option value="Bachelor's">Bachelor's</option>
            <option value="Master's">Master's</option>
            <option value="PhD">PhD</option>
        </select>
    </div>
    <div class="form-group">
        <label for="employment_type">Employment Type:</label>
        <select id="employment_type" name="employment_type">
            <option value="none">---Select---</option>
            <option value="Full-time">Full-time</option>
            <option value="Part-time">Part-time</option>
            <option value="Self-employed">Self-employed</option>
            <option value="Unemployed">Unemployed</option>
        </select>
    </div>
    <div class="form-group">
        <label for="marital_status">Marital Status:</label>
        <select id="marital_status" name="marital_status">
            <option value="none">---Select---</option>
            <option value="Single">Single</option>
            <option value="Married">Married</option>
            <option value="Divorced">Divorced</option>
        </select>
    </div>
    <div class="form-group">
        <label for="has_mortgage">Has Mortgage:</label>
        <select id="has_mortgage" name="has_mortgage">
            <option value="none">---Select---</option>

            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </div>
    <div class="form-group">
        <label for="has_dependents">Has Dependents:</label>
        <select id="has_dependents" name="has_dependents">
            <option value="none">---Select---</option>

            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </div>
    <div class="form-group">
        <label for="loan_purpose">Loan Purpose:</label>
        <select id="loan_purpose" name="loan_purpose">
            <option value="none">---Select---</option>
            <option value="Auto">Auto</option>
            <option value="Home">Home</option>
            <option value="Business">Business</option>
            <option value="Education">Education</option>
        </select>
    </div>
    <div class="form-group">
        <label for="has_cosigner">Has CoSigner:</label>
        <select id="has_cosigner" name="has_cosigner">
            <option value="none">---Select---</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </div>
    <button type="submit" onclick="submitForm()">Predict</button>

    <div class="result" id="result"></div>
</div>

<script>
    function submitForm() {
        const age = document.getElementById("age").value;
        const income = document.getElementById("income").value;
        const loan_amount = document.getElementById("loan_amount").value;
        const credit_score = document.getElementById("credit_score").value;
        const months_employed = document.getElementById("months_employed").value;
        const num_credit_lines = document.getElementById("num_credit_lines").value;
        const interest_rate = document.getElementById("interest_rate").value;
        const loan_term = document.getElementById("loan_term").value;
        const dti_ratio = document.getElementById("dti_ratio").value;
        const education = document.getElementById("education").value;
        const employment_type = document.getElementById("employment_type").value;
        const marital_status = document.getElementById("marital_status").value;
        const has_mortgage = document.getElementById("has_mortgage").value;
        const has_dependents = document.getElementById("has_dependents").value;
        const loan_purpose = document.getElementById("loan_purpose").value;
        const has_cosigner = document.getElementById("has_cosigner").value;

        const data = {
            age: parseInt(age),
            income: parseFloat(income),
            loan_amount: parseFloat(loan_amount),
            credit_score: parseFloat(credit_score),
            months_employed: parseInt(months_employed),
            num_credit_lines: parseInt(num_credit_lines),
            interest_rate: parseFloat(interest_rate),
            loan_term: parseInt(loan_term),
            dti_ratio: parseFloat(dti_ratio),
            education: education,
            employment_type: employment_type,
            marital_status: marital_status,
            has_mortgage: has_mortgage,
            has_dependents: has_dependents,
            loan_purpose: loan_purpose,
            has_cosigner: has_cosigner
        };

        fetch('http://127.0.0.1:8000/api/predict/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(result => {
            document.getElementById("result").innerText = `Prediction: ${result.prediction}`;

        })
        .catch(error => {
            console.error('Error:', error);
            document.getElementById("result").innerText = 'An error occurred while predicting.';
        });
    }
</script>

</body>
</html>
